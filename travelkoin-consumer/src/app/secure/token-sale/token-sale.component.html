<div class="content-box">
    <h3 class="content-box-header bg-white">
        <span class="icon-separator">
            <i class="fas fa-shield-check font-blue"></i>
        </span>
        {{ 'TOKEN_CONTRACT.TOKEN_SALE' | translate }} {{ 'TOKEN_CONTRACT.YOU_ARE_USING' | translate }} {{ provider }}
    </h3>
    <div class="content-box-wrapper">
        <form (ngSubmit)="buyTokens()" [formGroup]="form">

            <div class="form-group" *ngIf="form.get('account')">
                <label for="account">{{ 'TOKEN_CONTRACT.ACCOUNT' | translate }}:</label>
                <div class="input-group input-group-lg">
                    <span class="input-group-addon addon-inside bg-white font-primary">
                        <i class="fas fa-id-card"></i>
                    </span>
                    <input id="account" type="account" class="form-control" formControlName="account">
                </div>
            </div>
            <div class="form-group" *ngIf="form.get('amount')">
                <label for="amount">{{ 'TOKEN_CONTRACT.AMOUNT' | translate }} <span style="font-weight: normal;">({{currentAccountBalanceEther}} ETH)</span>:</label>
                <div class="input-group input-group-lg">
                    <span class="input-group-addon addon-inside bg-white font-primary">
                        <i class="fab fa-ethereum"></i>
                    </span>
                    <input id="amount" type="amount" class="form-control" placeholder="{{ 'TOKEN_CONTRACT.AMOUNT' | translate }}" formControlName="amount">
                </div>
                <div [hidden]="form.get('amount').valid || form.get('amount').pristine">
                    <div class="form-control-feedback">
                        <p class="font-red" *ngIf="form.get('amount').hasError('required')">{{ 'TOKEN_CONTRACT.ERROR_AMOUNT_REQUIRED' | translate }}</p>
                        <p class="font-red" *ngIf="form.get('amount').hasError('min')">{{ 'TOKEN_CONTRACT.ERROR_MIN_CONTRIBUTION' | translate }} {{ minContribution }}</p>
                        <p class="font-red" *ngIf="form.get('amount').hasError('max')">{{ 'TOKEN_CONTRACT.ERROR_MAX_CONTRIBUTION' | translate }} {{ maxContribution }}</p>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-block btn-blue-alt" [disabled]="!form.valid">{{ 'TOKEN_CONTRACT.MAKE_PAYMENT' | translate | uppercase }} <i *ngIf="loading === true" class="fas fa-spinner fa-spin"></i></button>
            </div>

        </form>
    </div>
    <div class="content-box-wrapper text-center mrg10A" *ngIf="status != null">
        <i class="fas fa-info-circle font-blue"></i> {{ status | translate }}
    </div>
    <div class="content-box-wrapper text-center mrg10A" *ngIf="error != null">
        <i class="fas fa-exclamation-circle font-red"></i> {{ error | translate }} <a class="font-blue pointer" (click)="clearErrors()">{{ 'TOKEN_CONTRACT.CLEAR' | translate }}</a>
    </div>
</div>